{"ast":null,"code":"var _jsxFileName = \"D:\\\\TRQ\\\\Pdf-Kita-main\\\\frontend\\\\src\\\\notlogin.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport './notlogin.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Halaman() {\n  _s();\n  const [uploadedFiles, setUploadedFiles] = useState([]); // Daftar file yang diunggah\n  const fileInputRef = useRef(null); // Referensi untuk input file\n\n  useEffect(() => {\n    // Ambil file yang diunggah dari localStorage\n    const uploadedFile = localStorage.getItem('uploadedFile');\n    if (uploadedFile) {\n      try {\n        const parsed = JSON.parse(uploadedFile);\n        setUploadedFiles(Array.isArray(parsed) ? parsed : [parsed]);\n      } catch {\n        setUploadedFiles([]);\n      }\n    }\n  }, []);\n\n  // Fungsi untuk membuka dialog upload file\n  const handleAddFile = () => {\n    if (fileInputRef.current) {\n      fileInputRef.current.value = ''; // reset input supaya bisa upload file yang sama berulang\n      fileInputRef.current.click();\n    }\n  };\n\n  // Fungsi untuk menangani perubahan file input (upload file)\n  const handleFileChange = event => {\n    const file = event.target.files[0];\n    if (file) {\n      const allowedExtensions = ['pdf'];\n      const fileExtension = file.name.split('.').pop().toLowerCase();\n      if (!allowedExtensions.includes(fileExtension)) {\n        alert('Hanya file PDF yang dapat diunggah.');\n        return;\n      }\n\n      // Upload file ke server\n      const formData = new FormData();\n      formData.append('file', file);\n      fetch('http://localhost:5000/api/files/upload', {\n        method: 'POST',\n        body: formData\n      }).then(response => {\n        if (!response.ok) throw new Error('Gagal upload file ke server');\n        return response.json();\n      }).then(data => {\n        // data.filename diasumsikan nama file hasil upload di server\n        const newFile = {\n          name: data.originalname,\n          size: file.size,\n          type: file.type,\n          path: `/uploads/${data.filename}`,\n          uploadedBy: 1\n        };\n        const updatedFiles = [...uploadedFiles, newFile];\n        setUploadedFiles(updatedFiles);\n        localStorage.setItem('uploadedFile', JSON.stringify(updatedFiles));\n        alert('File berhasil diupload!');\n      }).catch(error => {\n        console.error('Terjadi kesalahan:', error);\n        alert('Gagal upload file ke server.');\n      });\n    }\n  };\n\n  // Fungsi untuk menghapus file yang sudah diupload\n  const handleDelete = fileName => {\n    fetch(`http://localhost:5000/api/files/${encodeURIComponent(fileName)}`, {\n      method: 'DELETE'\n    }).then(response => {\n      if (!response.ok) throw new Error('Gagal menghapus file di database');\n      const updatedFiles = uploadedFiles.filter(file => file.name !== fileName);\n      setUploadedFiles(updatedFiles);\n      localStorage.setItem('uploadedFile', JSON.stringify(updatedFiles));\n    }).catch(error => {\n      console.error('Terjadi kesalahan:', error);\n      alert('Gagal menghapus file di database.');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"halaman-root\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"halaman-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"halaman-title\",\n        children: \"Choose Your File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"halaman-subtitle\",\n        children: \"Pilih File converter kamu!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"convert-button\",\n          children: \"PDF To Word\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"convert-button\",\n          children: \"PDF To Excel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"convert-button\",\n          children: \"PDF To JPG\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddFile,\n        style: {\n          marginTop: '20px'\n        },\n        children: \"Upload File PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        ref: fileInputRef,\n        onChange: handleFileChange,\n        style: {\n          display: 'none'\n        },\n        accept: \".pdf\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: uploadedFiles.map(file => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [file.name, ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDelete(file.name),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this)]\n        }, file.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n_s(Halaman, \"4HoC2hczMw8FSXHVvolklYAlvGo=\");\n_c = Halaman;\nexport default Halaman;\nvar _c;\n$RefreshReg$(_c, \"Halaman\");","map":{"version":3,"names":["React","useEffect","useState","useRef","jsxDEV","_jsxDEV","Halaman","_s","uploadedFiles","setUploadedFiles","fileInputRef","uploadedFile","localStorage","getItem","parsed","JSON","parse","Array","isArray","handleAddFile","current","value","click","handleFileChange","event","file","target","files","allowedExtensions","fileExtension","name","split","pop","toLowerCase","includes","alert","formData","FormData","append","fetch","method","body","then","response","ok","Error","json","data","newFile","originalname","size","type","path","filename","uploadedBy","updatedFiles","setItem","stringify","catch","error","console","handleDelete","fileName","encodeURIComponent","filter","className","children","_jsxFileName","lineNumber","columnNumber","onClick","style","marginTop","ref","onChange","display","accept","map","_c","$RefreshReg$"],"sources":["D:/TRQ/Pdf-Kita-main/frontend/src/notlogin.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport './notlogin.css';\n\nfunction Halaman() {\n  const [uploadedFiles, setUploadedFiles] = useState([]); // Daftar file yang diunggah\n  const fileInputRef = useRef(null); // Referensi untuk input file\n\n  useEffect(() => {\n    // Ambil file yang diunggah dari localStorage\n    const uploadedFile = localStorage.getItem('uploadedFile');\n    if (uploadedFile) {\n      try {\n        const parsed = JSON.parse(uploadedFile);\n        setUploadedFiles(Array.isArray(parsed) ? parsed : [parsed]);\n      } catch {\n        setUploadedFiles([]);\n      }\n    }\n  }, []);\n\n  // Fungsi untuk membuka dialog upload file\n  const handleAddFile = () => {\n    if (fileInputRef.current) {\n      fileInputRef.current.value = ''; // reset input supaya bisa upload file yang sama berulang\n      fileInputRef.current.click();\n    }\n  };\n\n  // Fungsi untuk menangani perubahan file input (upload file)\n  const handleFileChange = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      const allowedExtensions = ['pdf'];\n      const fileExtension = file.name.split('.').pop().toLowerCase();\n\n      if (!allowedExtensions.includes(fileExtension)) {\n        alert('Hanya file PDF yang dapat diunggah.');\n        return;\n      }\n\n      // Upload file ke server\n      const formData = new FormData();\n      formData.append('file', file);\n\n      fetch('http://localhost:5000/api/files/upload', {\n        method: 'POST',\n        body: formData,\n      })\n        .then((response) => {\n          if (!response.ok) throw new Error('Gagal upload file ke server');\n          return response.json();\n        })\n        .then((data) => {\n          // data.filename diasumsikan nama file hasil upload di server\n          const newFile = {\n            name: data.originalname,\n            size: file.size,\n            type: file.type,\n            path: `/uploads/${data.filename}`,\n            uploadedBy: 1,\n          };\n          const updatedFiles = [...uploadedFiles, newFile];\n          setUploadedFiles(updatedFiles);\n          localStorage.setItem('uploadedFile', JSON.stringify(updatedFiles));\n          alert('File berhasil diupload!');\n        })\n        .catch((error) => {\n          console.error('Terjadi kesalahan:', error);\n          alert('Gagal upload file ke server.');\n        });\n    }\n  };\n\n  // Fungsi untuk menghapus file yang sudah diupload\n  const handleDelete = (fileName) => {\n    fetch(`http://localhost:5000/api/files/${encodeURIComponent(fileName)}`, {\n      method: 'DELETE',\n    })\n      .then((response) => {\n        if (!response.ok) throw new Error('Gagal menghapus file di database');\n        const updatedFiles = uploadedFiles.filter((file) => file.name !== fileName);\n        setUploadedFiles(updatedFiles);\n        localStorage.setItem('uploadedFile', JSON.stringify(updatedFiles));\n      })\n      .catch((error) => {\n        console.error('Terjadi kesalahan:', error);\n        alert('Gagal menghapus file di database.');\n      });\n  };\n\n  return (\n    <div className=\"halaman-root\">\n      <div className=\"halaman-content\">\n        <h2 className=\"halaman-title\">Choose Your File</h2>\n        <p className=\"halaman-subtitle\">Pilih File converter kamu!</p>\n\n        <div className=\"button-container\">\n          <button className=\"convert-button\">PDF To Word</button>\n          <button className=\"convert-button\">PDF To Excel</button>\n          <button className=\"convert-button\">PDF To JPG</button>\n        </div>\n\n        {/* Tombol Upload File */}\n        <button onClick={handleAddFile} style={{ marginTop: '20px' }}>\n          Upload File PDF\n        </button>\n\n        {/* Input file tersembunyi */}\n        <input\n          type=\"file\"\n          ref={fileInputRef}\n          onChange={handleFileChange}\n          style={{ display: 'none' }}\n          accept=\".pdf\"\n        />\n\n        {/* Tampilkan list file yang sudah diupload */}\n        <ul>\n          {uploadedFiles.map((file) => (\n            <li key={file.name}>\n              {file.name}{' '}\n              <button onClick={() => handleDelete(file.name)}>Delete</button>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default Halaman;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}